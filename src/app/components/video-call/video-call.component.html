<div
  style="
    text-align: center;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  "
>
  <!-- ğŸ‘¤ ÅÉ™kil -->
  <img
    [ngSrc]="userService.getImgFullPath(photo)"
    alt="Contact avatar"
    width="80"
    height="80"
    style="border-radius: 50%; margin-bottom: 16px;"
  />
  <!-- ğŸ“ BaÅŸlÄ±q -->
  <div style="font-size: 22px; font-weight: 500;">
    {{ getCallStatusText(callStatus) }}
  </div>

  <!-- â„¹ï¸ Alt yazÄ± -->

  <div style="margin:10px 0; color:gray;" [ngSwitch]="callStatus">

    <div *ngSwitchCase="CallStatus.Calling">
      ğŸ“ ZÉ™ng edilir... {{ remainingSeconds }} saniyÉ™ qaldÄ±
    </div>

    <div *ngSwitchCase="CallStatus.Timeout">
      â±ï¸ ZÉ™ng vaxtÄ± bitdi
    </div>

    <div *ngSwitchCase="CallStatus.RejectByCaller">
      ğŸš« ZÉ™ngi siz lÉ™ÄŸv etdiniz
    </div>

    <div *ngSwitchCase="CallStatus.RejectByReceiver">
      ğŸš« QarÅŸÄ± tÉ™rÉ™f zÉ™ngi lÉ™ÄŸv etdi
    </div>
    <div *ngSwitchCase="CallStatus.EndByCaller">
      ğŸš« Siz zÉ™ngi sonlandÄ±rdÄ±z
    </div>

    <div *ngSwitchCase="CallStatus.EndByReceiver">
      ğŸš« QarÅŸÄ± tÉ™rÉ™f zÉ™ngi sonlandÄ±rdÄ±
    </div>
    <div *ngSwitchCase="CallStatus.NotActive">
      ğŸš« QarÅŸÄ± tÉ™rÉ™f aktiv deyil
    </div>

  </div>


  <!-- ğŸ”˜ DÃ¼ymÉ™lÉ™r -->
  <div [ngSwitch]="callStatus">

    <!-- ğŸ“ ZÉ™ng edilir -->
    <button
      *ngSwitchCase="CallStatus.Calling"
      nz-button
      nzType="default"
      nzDanger
      (click)="cancelOffer(CallStatus.RejectByCaller)"
    >
      <i nz-icon nzType="close-circle" style="margin-right:6px;"></i>
      ZÉ™ngi lÉ™ÄŸv et
    </button>

    <!-- ğŸ“ ZÉ™ng edilir -->
    <button
      *ngSwitchCase="CallStatus.CallAccept"
      nz-button
      nzType="default"
      nzDanger
      (click)="cancelOffer(CallStatus.EndByCaller)"
    >
      <i nz-icon nzType="close-circle" style="margin-right:6px;"></i>
      ZÉ™ngi sonlandÄ±r
    </button>

    <!-- ğŸ” YenidÉ™n zÉ™ng et (Cancel/Reject/Timeout hallarÄ±nÄ±n hamÄ±sÄ± Ã¼Ã§Ã¼n) -->
    <button
      *ngSwitchDefault
      nz-button
      nzType="primary"
      (click)="retryCallOffer()"
    >
      <i nz-icon nzType="phone" style="margin-right:6px;"></i>
      YenidÉ™n zÉ™ng et
    </button>

  </div>

  <!-- Remote Video (BÃ¶yÃ¼k) -->
  <div style="position: relative; width: 100%; max-width: 500px;">

    <video
      #remoteVideo
      autoplay
      playsinline
      style="
      width: 100%;
      border-radius: 10px;
      background: black;
    "
    ></video>

    <!-- ğŸ”µ Control Buttons (Mute / Stop Video) -->
    <div
      style="
      position: absolute;
      bottom: 12px;
      left: 12px;
      display: flex;
      gap: 10px;
    "
    >
      <!-- ğŸ”‡ SÉ™si baÄŸlama dÃ¼ymÉ™si -->
      <button
        nz-button
        nzShape="circle"
        nzType="default"
        (click)="toggleMute()"
        style="background: rgba(0,0,0,0.6); color: white; border: none;"
      >
        <i nz-icon [nzType]="isMuted ? 'sound' : 'audio-muted'"></i>
      </button>

      <!-- ğŸ¥ KameranÄ± dayandÄ±r dÃ¼ymÉ™si -->
      <button
        nz-button
        nzShape="circle"
        nzType="default"
        (click)="toggleVideo()"
        style="background: rgba(0,0,0,0.6); color: white; border: none;"
      >
        <i nz-icon [nzType]="isVideoStopped ? 'video-camera' : 'video-camera'"></i>
      </button>
    </div>

    <!-- Local Video (KiÃ§ik â€” saÄŸ alt kÃ¼nc) -->
    <video
      #localVideo1
      autoplay
      muted
      playsinline
      style="
      position: absolute;
      bottom: 12px;
      right: 12px;
      width: 120px;
      height: 90px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid white;
      background: black;
    "
    ></video>

  </div>

</div>

